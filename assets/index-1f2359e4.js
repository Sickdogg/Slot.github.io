var Ve=Object.defineProperty;var We=(e,t,n)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var me=(e,t,n)=>(We(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function B(){}function Ie(e){return e()}function Se(){return Object.create(null)}function Q(e){e.forEach(Ie)}function Fe(e){return typeof e=="function"}function ie(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let _e;function Ee(e,t){return e===t?!0:(_e||(_e=document.createElement("a")),_e.href=t,e===_e.href)}function Xe(e){return Object.keys(e).length===0}function Ye(e,...t){if(e==null){for(const s of t)s(void 0);return B}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function qe(e,t,n){e.$$.on_destroy.push(Ye(t,n))}function Le(e,t,n){return e.set(n),t}function g(e,t){e.appendChild(t)}function Z(e,t,n){e.insertBefore(t,n||null)}function H(e){e.parentNode&&e.parentNode.removeChild(e)}function Ke(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function M(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function q(){return V(" ")}function Ue(){return V("")}function K(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Je(e){return Array.from(e.childNodes)}function ue(e,t){t=""+t,e.data!==t&&(e.data=t)}function Be(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function F(e,t,n){e.classList.toggle(t,!!n)}function Qe(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}let ce;function fe(e){ce=e}function Me(){if(!ce)throw new Error("Function called outside component initialization");return ce}function He(e){Me().$$.on_mount.push(e)}function $e(e){Me().$$.on_destroy.push(e)}function xe(){const e=Me();return(t,n,{cancelable:s=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=Qe(t,n,{cancelable:s});return o.slice().forEach(c=>{c.call(e,r)}),!r.defaultPrevented}return!0}}function et(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(s=>s.call(this,t))}const ee=[],le=[];let ne=[];const we=[],tt=Promise.resolve();let ke=!1;function nt(){ke||(ke=!0,tt.then(Ge))}function Pe(e){ne.push(e)}function Ae(e){we.push(e)}const ve=new Set;let $=0;function Ge(){if($!==0)return;const e=ce;do{try{for(;$<ee.length;){const t=ee[$];$++,fe(t),st(t.$$)}}catch(t){throw ee.length=0,$=0,t}for(fe(null),ee.length=0,$=0;le.length;)le.pop()();for(let t=0;t<ne.length;t+=1){const n=ne[t];ve.has(n)||(ve.add(n),n())}ne.length=0}while(ee.length);for(;we.length;)we.pop()();ke=!1,ve.clear(),fe(e)}function st(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pe)}}function lt(e){const t=[],n=[];ne.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),ne=t}const pe=new Set;let U;function it(){U={r:0,c:[],p:U}}function ot(){U.r||Q(U.c),U=U.p}function J(e,t){e&&e.i&&(pe.delete(e),e.i(t))}function se(e,t,n,s){if(e&&e.o){if(pe.has(e))return;pe.add(e),U.c.push(()=>{pe.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function te(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function rt(e,t){e.d(1),t.delete(e.key)}function ft(e,t){se(e,1,1,()=>{t.delete(e.key)})}function Ze(e,t,n,s,o,r,c,u,a,f,_,w){let b=e.length,A=r.length,y=b;const k={};for(;y--;)k[e[y].key]=y;const D=[],m=new Map,i=new Map,z=[];for(y=A;y--;){const v=w(o,r,y),S=n(v);let C=c.get(S);C?s&&z.push(()=>C.p(v,t)):(C=f(S,v),C.c()),m.set(S,D[y]=C),S in k&&i.set(S,Math.abs(y-k[S]))}const I=new Set,R=new Set;function j(v){J(v,1),v.m(u,_),c.set(v.key,v),_=v.first,A--}for(;b&&A;){const v=D[A-1],S=e[b-1],C=v.key,T=S.key;v===S?(_=v.first,b--,A--):m.has(T)?!c.has(C)||I.has(C)?j(v):R.has(T)?b--:i.get(C)>i.get(T)?(R.add(C),j(v)):(I.add(T),b--):(a(S,c),b--)}for(;b--;){const v=e[b];m.has(v.key)||a(v,c)}for(;A;)j(D[A-1]);return Q(z),D}function je(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function ye(e){e&&e.c()}function ae(e,t,n){const{fragment:s,after_update:o}=e.$$;s&&s.m(t,n),Pe(()=>{const r=e.$$.on_mount.map(Ie).filter(Fe);e.$$.on_destroy?e.$$.on_destroy.push(...r):Q(r),e.$$.on_mount=[]}),o.forEach(Pe)}function de(e,t){const n=e.$$;n.fragment!==null&&(lt(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(e,t){e.$$.dirty[0]===-1&&(ee.push(e),nt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,t,n,s,o,r,c=null,u=[-1]){const a=ce;fe(e);const f=e.$$={fragment:null,ctx:[],props:r,update:B,not_equal:o,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Se(),dirty:u,skip_bound:!1,root:t.target||a.$$.root};c&&c(f.root);let _=!1;if(f.ctx=n?n(e,t.props||{},(w,b,...A)=>{const y=A.length?A[0]:b;return f.ctx&&o(f.ctx[w],f.ctx[w]=y)&&(!f.skip_bound&&f.bound[w]&&f.bound[w](y),_&&ut(e,w)),b}):[],f.update(),_=!0,Q(f.before_update),f.fragment=s?s(f.ctx):!1,t.target){if(t.hydrate){const w=Je(t.target);f.fragment&&f.fragment.l(w),w.forEach(H)}else f.fragment&&f.fragment.c();t.intro&&J(e.$$.fragment),ae(e,t.target,t.anchor),Ge()}fe(a)}class ge{constructor(){me(this,"$$");me(this,"$$set")}$destroy(){de(this,1),this.$destroy=B}$on(t,n){if(!Fe(n))return B;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(t){this.$$set&&!Xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ct);function De(e,t,n){const s=e.slice();return s[19]=t[n],s[21]=n,s}function at(e){let t,n,s,o;return{c(){t=M("div"),n=M("img"),p(n,"alt","圖片"),Ee(n.src,s=e[19].path)||p(n,"src",s),p(n,"height",o=e[0].height),p(n,"class","svelte-ssj1t4"),p(t,"class","svelte-ssj1t4")},m(r,c){Z(r,t,c),g(t,n)},p(r,c){c&1&&!Ee(n.src,s=r[19].path)&&p(n,"src",s),c&1&&o!==(o=r[0].height)&&p(n,"height",o)},d(r){r&&H(t)}}}function dt(e){let t,n=e[19].name+"",s;return{c(){t=M("div"),s=V(n),p(t,"class","svelte-ssj1t4")},m(o,r){Z(o,t,r),g(t,s)},p(o,r){r&1&&n!==(n=o[19].name+"")&&ue(s,n)},d(o){o&&H(t)}}}function Te(e,t){let n,s,o,r,c;function u(_,w){if(_[19].type==="text")return dt;if(_[19].type==="image")return at}let a=u(t),f=a&&a(t);return{key:e,first:null,c(){n=M("div"),f&&f.c(),s=q(),p(n,"class",o="gift "+t[0].style+" svelte-ssj1t4"),p(n,"style",r=`transform: rotateX(${t[3]*t[21]}deg) translateZ(${t[6]}px)`),p(n,"data-pos",c=t[3]*t[21]),F(n,"text-red-600",t[1][0]==1&&t[5][0]==t[21]||t[1][1]==1&&t[5][1]==t[21]||t[1][2]==1&&t[5][2]==t[21]),this.first=n},m(_,w){Z(_,n,w),f&&f.m(n,null),g(n,s)},p(_,w){t=_,a===(a=u(t))&&f?f.p(t,w):(f&&f.d(1),f=a&&a(t),f&&(f.c(),f.m(n,s))),w&1&&o!==(o="gift "+t[0].style+" svelte-ssj1t4")&&p(n,"class",o),w&73&&r!==(r=`transform: rotateX(${t[3]*t[21]}deg) translateZ(${t[6]}px)`)&&p(n,"style",r),w&9&&c!==(c=t[3]*t[21])&&p(n,"data-pos",c),w&35&&F(n,"text-red-600",t[1][0]==1&&t[5][0]==t[21]||t[1][1]==1&&t[5][1]==t[21]||t[1][2]==1&&t[5][2]==t[21])},d(_){_&&H(n),f&&f.d()}}}function ht(e){let t,n=[],s=new Map,o,r=te(e[0].gifts);const c=u=>u[21];for(let u=0;u<r.length;u+=1){let a=De(e,r,u),f=c(a);s.set(f,n[u]=Te(f,a))}return{c(){t=M("div");for(let u=0;u<n.length;u+=1)n[u].c();p(t,"class",o="gift-container "+e[7]+" svelte-ssj1t4"),F(t,"autoTurn",e[2])},m(u,a){Z(u,t,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);e[9](t)},p(u,[a]){a&107&&(r=te(u[0].gifts),n=Ze(n,a,c,1,u,r,s,t,rt,Te,null,De)),a&128&&o!==(o="gift-container "+u[7]+" svelte-ssj1t4")&&p(t,"class",o),a&132&&F(t,"autoTurn",u[2])},i:B,o:B,d(u){u&&H(t);for(let a=0;a<n.length;a+=1)n[a].d();e[9](null)}}}function gt(e,t,n){let s,o,r,c;const u=xe();function a(j){u("finished",j)}let{trigger:f}=t,{config:_}=t,{showPos:w}=t,b=!1,A=0,y=0,k=[],D;He(()=>{i(),m()});function m(){_.gifts.forEach((j,v)=>{k[v]={from:v===0?0:k[v-1].to,to:v===0?r:k[v-1].to+r,name:j.name,index:v}})}function i(){D&&(D.style.setProperty("--rotateY",`${_.rotateY}deg`),D.style.setProperty("--duration",`${_.duration}ms`),D.style.setProperty("--fontSize",`${_.fontSize}px`),D.style.setProperty("--height",`${_.height}px`),D.style.setProperty("--width",`${_.width}px`),D.style.setProperty("--currentDeg",`-${A}deg`))}function z(){let j=Math.random()*360+1800;j-=j%r,y=j;const v=_.rollback?Math.random()*_.rollback+1:1;D.style.setProperty("--targetDeg",`-${y}deg`),D.style.setProperty("--rollBackDeg",`${v}`),n(2,b=!0)}function I(){A=y%360,D.style.setProperty("--currentDeg",`-${A}deg`);let j=null;const v=A+r/2;k.forEach(T=>{v>=T.from&&v<=T.to&&(j=T.index)}),console.log("currentDeg",A);let S=k.findIndex(T=>T.index==j);console.log("每一個結果",S),console.log("giftsDeg",k),console.log("giftName",j);let C=[];S==0?C.push(k[k.length-1].name,k[S].name,k[S+1].name):S==k.length-1?C.push(k[S-1].name,k[S].name,k[0].name):C.push(k[S-1].name,k[S].name,k[S+1].name),S==0?n(5,s=[k.length-1,0,1]):S==k.length-1?n(5,s=[S-1,S,0]):n(5,s=[S-1,S,S+1]),console.log("setIndex",s),n(2,b=!1),a(C)}function R(j){le[j?"unshift":"push"](()=>{D=j,n(4,D)})}return e.$$set=j=>{"trigger"in j&&n(8,f=j.trigger),"config"in j&&n(0,_=j.config),"showPos"in j&&n(1,w=j.showPos)},e.$$.update=()=>{e.$$.dirty&1&&n(7,o=_.run3D?"three-dimension":"flat"),e.$$.dirty&1&&n(3,r=360/_.gifts.length),e.$$.dirty&9&&n(6,c=_.height/2/Math.tan(r/2/180*Math.PI)),e.$$.dirty&1&&_&&(i(),m()),e.$$.dirty&256&&f!=null&&z(),e.$$.dirty&5&&b&&setTimeout(()=>{I()},_.duration+200)},n(5,s=[]),[_,w,b,r,D,s,c,o,f,R]}class _t extends ge{constructor(t){super(),he(this,t,gt,ht,ie,{trigger:8,config:0,showPos:1})}}const x=[];function pt(e,t=B){let n;const s=new Set;function o(u){if(ie(e,u)&&(e=u,n)){const a=!x.length;for(const f of s)f[1](),x.push(f,e);if(a){for(let f=0;f<x.length;f+=2)x[f][0](x[f+1]);x.length=0}}}function r(u){o(u(e))}function c(u,a=B){const f=[u,a];return s.add(f),s.size===1&&(n=t(o,r)||B),u(e),()=>{s.delete(f),s.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:c}}const be=pt(1e4);function bt(e){let t,n,s,o,r,c,u,a,f,_,w,b,A;return{c(){t=M("div"),n=M("div"),s=M("div"),o=M("div"),r=M("div"),r.innerHTML="<span>頭像</span>",c=q(),u=M("div"),a=M("span"),a.textContent="金額:",f=q(),_=M("span"),w=V(e[0]),b=q(),A=M("div"),A.innerHTML="<span>系統</span>",p(r,"class","mr-3"),p(o,"class","flex"),p(s,"class","flex justify-between px-3"),p(n,"class","w-full text-[40px]"),Be(t,"background-color","#09384c"),p(t,"class","absolute top-0 left-0 z-10 text-white h-[10vh] w-full flex items-center")},m(y,k){Z(y,t,k),g(t,n),g(n,s),g(s,o),g(o,r),g(o,c),g(o,u),g(u,a),g(u,f),g(u,_),g(_,w),g(s,b),g(s,A)},p(y,[k]){k&1&&ue(w,y[0])},i:B,o:B,d(y){y&&H(t)}}}function yt(e,t,n){let s;return qe(e,be,o=>n(0,s=o)),[s]}class mt extends ge{constructor(t){super(),he(this,t,yt,bt,ie,{})}}function vt(e){let t,n,s;return{c(){t=M("button"),t.textContent="停止自動",p(t,"class","w-[30%] border border-white svelte-eiale3")},m(o,r){Z(o,t,r),n||(s=K(t,"click",e[8]),n=!0)},p:B,d(o){o&&H(t),n=!1,s()}}}function wt(e){let t,n,s,o,r;return{c(){t=M("button"),n=V("啟動自動"),t.disabled=s=e[3]&&e[1]==!1,p(t,"class","w-[30%] border border-white svelte-eiale3"),F(t,"disabled",e[3])},m(c,u){Z(c,t,u),g(t,n),o||(r=K(t,"click",e[7]),o=!0)},p(c,u){u&10&&s!==(s=c[3]&&c[1]==!1)&&(t.disabled=s),u&8&&F(t,"disabled",c[3])},d(c){c&&H(t),o=!1,r()}}}function kt(e){let t,n,s,o,r,c,u,a,f,_,w,b,A,y,k,D,m,i,z,I,R,j,v,S,C,T,G,X,W,h;function E(d,l){return d[1]==!1?wt:vt}let N=E(e),O=N(e);return{c(){t=M("div"),n=M("div"),s=M("span"),s.textContent="Win:",o=q(),r=M("span"),c=V(e[4]),u=q(),a=M("div"),f=M("button"),_=V("最大賭注"),w=q(),b=M("button"),A=V("開始"),k=q(),O.c(),D=q(),m=M("div"),i=M("button"),z=M("span"),z.textContent="-",I=q(),R=M("div"),j=M("span"),j.textContent="籌碼:",v=q(),S=M("span"),C=V(e[0]),T=q(),G=M("button"),X=M("span"),X.textContent="+",p(s,"class","svelte-eiale3"),p(r,"class","svelte-eiale3"),p(n,"class","flex justify-center svelte-eiale3"),f.disabled=e[3],p(f,"class","w-[30%] border border-white svelte-eiale3"),F(f,"disabled",e[3]),b.disabled=y=e[3]||e[1],p(b,"class","w-[30%] border border-white svelte-eiale3"),F(b,"active",e[2]),F(b,"disabled",e[3]),p(a,"class","flex items-center justify-around svelte-eiale3"),p(z,"class","mr-8 svelte-eiale3"),i.disabled=e[3],p(i,"class","svelte-eiale3"),F(i,"disabled",e[3]),p(j,"class","svelte-eiale3"),p(S,"class","svelte-eiale3"),p(R,"class","w-[30%] text-center svelte-eiale3"),p(X,"class","ml-8 svelte-eiale3"),G.disabled=e[3],p(G,"class","svelte-eiale3"),F(G,"disabled",e[3]),p(m,"class","flex justify-center svelte-eiale3"),Be(t,"background-color","#09384c"),p(t,"class","absolute bottom-0 left-0 z-10 text-white text-[40px] h-[25vh] w-full flex justify-center flex-col items-stretch svelte-eiale3")},m(d,l){Z(d,t,l),g(t,n),g(n,s),g(n,o),g(n,r),g(r,c),g(t,u),g(t,a),g(a,f),g(f,_),g(a,w),g(a,b),g(b,A),g(a,k),O.m(a,null),g(t,D),g(t,m),g(m,i),g(i,z),g(m,I),g(m,R),g(R,j),g(R,v),g(R,S),g(S,C),g(m,T),g(m,G),g(G,X),W||(h=[K(f,"click",e[6]),K(b,"click",e[5]),K(i,"click",e[9]),K(G,"click",e[10])],W=!0)},p(d,[l]){l&16&&ue(c,d[4]),l&8&&(f.disabled=d[3]),l&8&&F(f,"disabled",d[3]),l&10&&y!==(y=d[3]||d[1])&&(b.disabled=y),l&4&&F(b,"active",d[2]),l&8&&F(b,"disabled",d[3]),N===(N=E(d))&&O?O.p(d,l):(O.d(1),O=N(d),O&&(O.c(),O.m(a,null))),l&8&&(i.disabled=d[3]),l&8&&F(i,"disabled",d[3]),l&1&&ue(C,d[0]),l&8&&(G.disabled=d[3]),l&8&&F(G,"disabled",d[3])},i:B,o:B,d(d){d&&H(t),O.d(),W=!1,Q(h)}}}function Pt(e,t,n){let{active:s}=t,{disabled:o}=t,{winMoney:r}=t,{auto:c=!1}=t,{bet:u=100}=t;function a(y){et.call(this,e,y)}const f=()=>{n(0,u=1e3)},_=()=>{n(1,c=!0)},w=()=>{n(1,c=!1)},b=()=>{n(0,u=u-100)},A=()=>{n(0,u=u+100)};return e.$$set=y=>{"active"in y&&n(2,s=y.active),"disabled"in y&&n(3,o=y.disabled),"winMoney"in y&&n(4,r=y.winMoney),"auto"in y&&n(1,c=y.auto),"bet"in y&&n(0,u=y.bet)},e.$$.update=()=>{e.$$.dirty&1&&(u>1e3?n(0,u=1e3):u<100&&n(0,u=100))},[u,c,s,o,r,a,f,_,w,b,A]}class Mt extends ge{constructor(t){super(),he(this,t,Pt,kt,ie,{active:2,disabled:3,winMoney:4,auto:1,bet:0})}}function Ce(e,t,n){const s=e.slice();return s[12]=t[n],s[33]=n,s}function Ne(e,t,n){const s=e.slice();return s[34]=t[n],s[33]=n,s}function ze(e,t){let n,s,o;return s=new _t({props:{showPos:t[4][t[33]],trigger:t[7],config:t[34]}}),s.$on("finished",t[14]),{key:e,first:null,c(){n=Ue(),ye(s.$$.fragment),this.first=n},m(r,c){Z(r,n,c),ae(s,r,c),o=!0},p(r,c){t=r;const u={};c[0]&1040&&(u.showPos=t[4][t[33]]),c[0]&128&&(u.trigger=t[7]),c[0]&1024&&(u.config=t[34]),s.$set(u)},i(r){o||(J(s.$$.fragment,r),o=!0)},o(r){se(s.$$.fragment,r),o=!1},d(r){r&&H(n),de(s,r)}}}function Oe(e){let t,n=`Round${e[33]+1}: ${e[12]}`,s;return{c(){t=M("div"),s=V(n),p(t,"class","result svelte-ahb3vf")},m(o,r){Z(o,t,r),g(t,s)},p(o,r){r[0]&32&&n!==(n=`Round${o[33]+1}: ${o[12]}`)&&ue(s,n)},d(o){o&&H(t)}}}function St(e){let t,n,s,o,r,c,u,a,f=[],_=new Map,w,b,A,y,k,D,m,i,z,I,R,j;t=new mt({});let v=te(e[10]);const S=h=>h[33];for(let h=0;h<v.length;h+=1){let E=Ne(e,v,h),N=S(E);_.set(N,f[h]=ze(N,E))}let C=te(e[5]),T=[];for(let h=0;h<C.length;h+=1)T[h]=Oe(Ce(e,C,h));function G(h){e[18](h)}function X(h){e[19](h)}let W={active:e[8],disabled:e[6],winMoney:e[2]};return e[3]!==void 0&&(W.bet=e[3]),e[0]!==void 0&&(W.auto=e[0]),m=new Mt({props:W}),le.push(()=>je(m,"bet",G)),le.push(()=>je(m,"auto",X)),m.$on("click",e[20]),{c(){ye(t.$$.fragment),n=q(),s=M("div"),o=M("div"),o.innerHTML='<span class="svelte-ahb3vf">SlotMachine</span>',r=q(),c=M("div"),u=M("div"),a=M("div");for(let h=0;h<f.length;h+=1)f[h].c();w=q(),b=M("div"),A=M("div");for(let h=0;h<T.length;h+=1)T[h].c();y=q(),k=M("div"),k.innerHTML='<a href="https://github.com/guahsu/Vue-SlotMachine/" target="_blank" class="svelte-ahb3vf">→ GitHub Source Code</a>',D=q(),ye(m.$$.fragment),p(o,"class","badge svelte-ahb3vf"),p(a,"class","container svelte-ahb3vf"),p(u,"class","window svelte-ahb3vf"),p(c,"class","body svelte-ahb3vf"),p(A,"class","resultList-container svelte-ahb3vf"),p(b,"class","resultList svelte-ahb3vf"),F(b,"openResultList",e[9]),p(k,"class","github svelte-ahb3vf"),p(s,"id","SlotMachine"),p(s,"class","z-0 svelte-ahb3vf")},m(h,E){ae(t,h,E),Z(h,n,E),Z(h,s,E),g(s,o),g(s,r),g(s,c),g(c,u),g(u,a);for(let N=0;N<f.length;N+=1)f[N]&&f[N].m(a,null);e[16](a),g(s,w),g(s,b),g(b,A);for(let N=0;N<T.length;N+=1)T[N]&&T[N].m(A,null);g(s,y),g(s,k),Z(h,D,E),ae(m,h,E),I=!0,R||(j=K(b,"click",e[17]),R=!0)},p(h,E){if(E[0]&17552&&(v=te(h[10]),it(),f=Ze(f,E,S,1,h,v,_,a,ft,ze,null,Ne),ot()),E[0]&32){C=te(h[5]);let O;for(O=0;O<C.length;O+=1){const d=Ce(h,C,O);T[O]?T[O].p(d,E):(T[O]=Oe(d),T[O].c(),T[O].m(A,null))}for(;O<T.length;O+=1)T[O].d(1);T.length=C.length}(!I||E[0]&512)&&F(b,"openResultList",h[9]);const N={};E[0]&256&&(N.active=h[8]),E[0]&64&&(N.disabled=h[6]),E[0]&4&&(N.winMoney=h[2]),!i&&E[0]&8&&(i=!0,N.bet=h[3],Ae(()=>i=!1)),!z&&E[0]&1&&(z=!0,N.auto=h[0],Ae(()=>z=!1)),m.$set(N)},i(h){if(!I){J(t.$$.fragment,h);for(let E=0;E<v.length;E+=1)J(f[E]);J(m.$$.fragment,h),I=!0}},o(h){se(t.$$.fragment,h);for(let E=0;E<f.length;E+=1)se(f[E]);se(m.$$.fragment,h),I=!1},d(h){h&&(H(n),H(s),H(D)),de(t,h);for(let E=0;E<f.length;E+=1)f[E].d();e[16](null),Ke(T,h),de(m,h),R=!1,j()}}}function Et(e){const n=[];for(let s=0;s<e.length;s++)e[s]===1&&n.push(s);return n}function oe(e,t){return e[0]==t[0]||e[0]==t[1]}function Y(e,t){return e[1]==t[0]||e[1]==t[1]||e[1]==t[2]}function re(e,t){return e[e.length-1]==t[e.length-1]||e[e.length-1]==t[e.length-2]}function Lt(e){let t=0;for(let n=0;n<e.length;n++)for(let s=0;s<e[n].length;s++)e[n][s]===1&&t++;return t}function At(e,t,n){let s,o,r,c,u,a,f,_,w;qe(e,be,d=>n(11,w=d));let b,A=0,y,k,D=[0,0,0],m=[0,0,0],i,z=[],I,R=!1;function j(){let d=[],l=Math.floor(Math.random()*10);for(let P=0;P<10;P++){let L;P%2!==0?L=l:L=Math.floor(Math.random()*10),d.push({type:"text",name:L})}for(let P=0;P<5;P++)n(10,u[P].gifts=d,u)}function v(){n(8,r=!0),setTimeout(()=>{n(8,r=!1)},500),setTimeout(()=>{n(7,o=new Date)},1),j(),n(6,c=!0),n(4,s=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]])}function S(d){const l=b.querySelectorAll(".autoTurn");_.push(d.detail),l.length===1&&(I==!0?n(6,c=!0):n(6,c=!1),n(5,f=[...f,_]),console.log("resultList",f),i=[..._],n(12,_=[]),console.log("array",i),C(),setTimeout(()=>{n(15,R=!1)},500))}function C(){D=[0,0,0],X(i[0]),console.log("firstPos",D),z.push(D),T(D,0)}function T(d,l){m=[0,0,0];let P=Et(d);if(l>i.length-2){G(),console.log("resultPos",z),n(4,s=z),y=Lt(s),n(2,A=y*k),z=[],Le(be,w+=A,w);return}else{for(let L=0;L<P.length;L++)if(P[L]==0){if(!oe(i[l],i[l+1]))continue;i[l][P[L]]==i[l+1][P[L]]&&(l==0&&oe(i[l+1],i[l+2])||l>0)&&(m[P[L]]=1),i[l][P[L]]==i[l+1][P[L]+1]&&(l==0&&Y(i[l+1],i[l+2])||l>0)&&(m[P[L]+1]=1)}else if(P[L]==i[0].length-1){if(!re(i[l],i[l+1]))continue;i[l][P[L]]==i[l+1][P[L]]&&(l==0&&re(i[l+1],i[l+2])||l>0)&&(m[P[L]]=1),i[l][P[L]]==i[l+1][P[L]-1]&&(l==0&&Y(i[l+1],i[l+2])||l>0)&&(m[P[L]-1]=1)}else{if(!Y(i[l],i[l+1]))continue;i[l][P[L]]==i[l+1][P[L]-1]&&(l==0&&oe(i[l+1],i[l+2])||l>0)&&(m[P[L]-1]=1),i[l][P[L]]==i[l+1][P[L]]&&(l==0&&Y(i[l+1],i[l+2])||l>0)&&(m[P[L]]=1),i[l][P[L]]==i[l+1][P[L]+1]&&(l==0&&re(i[l+1],i[l+2])||l>0)&&(m[P[L]+1]=1)}return z.push(m),T(m,l+1)}}function G(){for(let d=0;d<i.length;d++)for(let l=0;l<i[d].length;l++){let P=z[d][l]==1||z[d][l+1]==1;z[d][0]==1||z[d][i[0].length-1]==1,l!=i[d].length-1&&i[d][l]==i[d][l+1]&&P&&(z[d][l]=1,z[d][l+1]=1)}}function X(d){for(let l=0;l<d.length;l++)if(l==0){if(i[0][l]!=i[1][l]&&i[0][l]!=i[1][l+1])continue;(i[0][l]==i[1][l]&&oe(i[1],i[2])||i[0][l]==i[1][l+1]&&Y(i[1],i[2]))&&(D[l]=1)}else if(l==d.length-1){if(i[0][l]!=i[1][l]&&i[0][l]!=i[1][l-1])continue;(i[0][l]==i[1][l]&&re(i[1],i[2])||i[0][l]==i[1][l-1]&&Y(i[1],i[2]))&&(D[l]=1)}else{if(i[0][l]!=i[1][l]&&i[0][l]!=i[1][l-1]&&i[0][l]!=i[1][l+1])continue;(i[0][l]==i[1][l-1]&&oe(i[1],i[2])||i[0][l]==i[1][l]&&Y(i[1],i[2])||i[0][l]==i[1][l+1]&&re(i[1],i[2]))&&(D[l]=1)}}function W(d){le[d?"unshift":"push"](()=>{b=d,n(1,b)})}const h=()=>{n(9,a=!1)};function E(d){k=d,n(3,k)}function N(d){I=d,n(0,I)}const O=()=>{if(!c)Le(be,w-=k,w),v();else return};return e.$$.update=()=>{e.$$.dirty[0]&32769&&I==!0&&R==!1&&(n(15,R=!0),v())},n(4,s=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]]),n(7,o=null),n(8,r=!1),n(6,c=!1),n(10,u=[{style:"gift-style",gifts:Array.from(new Array(10),(d,l)=>({type:"text",name:l})),duration:4e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(d,l)=>({type:"text",name:l})),duration:5e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(d,l)=>({type:"text",name:l})),duration:6e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(d,l)=>({type:"text",name:l})),duration:7e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(d,l)=>({type:"text",name:l})),duration:8e3,fontSize:50,height:100,width:120}]),n(9,a=!1),n(5,f=[]),n(12,_=[]),[I,b,A,k,s,f,c,o,r,a,u,w,_,v,S,R,W,h,E,N,O]}class jt extends ge{constructor(t){super(),he(this,t,At,St,ie,{},null,[-1,-1])}}function Dt(e){let t,n;return t=new jt({}),{c(){ye(t.$$.fragment)},m(s,o){ae(t,s,o),n=!0},p:B,i(s){n||(J(t.$$.fragment,s),n=!0)},o(s){se(t.$$.fragment,s),n=!1},d(s){de(t,s)}}}function Re(e){e.preventDefault()}function Tt(e){return He(()=>{document.body.addEventListener("touchmove",Re,{passive:!1})}),$e(()=>{document.body.removeEventListener("touchmove",Re)}),[]}class Ct extends ge{constructor(t){super(),he(this,t,Tt,Dt,ie,{})}}new Ct({target:document.getElementById("app")});
