var He=Object.defineProperty;var qe=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>(qe(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function R(){}function Ce(e){return e()}function ke(){return Object.create(null)}function Y(e){e.forEach(Ce)}function Ne(e){return typeof e=="function"}function ee(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let de;function Pe(e,t){return e===t?!0:(de||(de=document.createElement("a")),de.href=t,e===de.href)}function Be(e){return Object.keys(e).length===0}function Ge(e,...t){if(e==null){for(const s of t)s(void 0);return R}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ze(e,t,n){e.$$.on_destroy.push(Ge(t,n))}function Me(e,t,n){return e.set(n),t}function _(e,t){e.appendChild(t)}function B(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function Ze(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function X(e){return document.createTextNode(e)}function O(){return X(" ")}function Ve(){return X("")}function se(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function We(e){return Array.from(e.childNodes)}function oe(e,t){t=""+t,e.data!==t&&(e.data=t)}function Oe(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function G(e,t,n){e.classList.toggle(t,!!n)}function Xe(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}let ie;function le(e){ie=e}function we(){if(!ie)throw new Error("Function called outside component initialization");return ie}function Ie(e){we().$$.on_mount.push(e)}function Ye(e){we().$$.on_destroy.push(e)}function Ke(){const e=we();return(t,n,{cancelable:s=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=Xe(t,n,{cancelable:s});return i.slice().forEach(u=>{u.call(e,r)}),!r.defaultPrevented}return!0}}function Ue(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(s=>s.call(this,t))}const J=[],re=[];let $=[];const be=[],Je=Promise.resolve();let me=!1;function Qe(){me||(me=!0,Je.then(Re))}function ve(e){$.push(e)}function $e(e){be.push(e)}const ye=new Set;let K=0;function Re(){if(K!==0)return;const e=ie;do{try{for(;K<J.length;){const t=J[K];K++,le(t),xe(t.$$)}}catch(t){throw J.length=0,K=0,t}for(le(null),J.length=0,K=0;re.length;)re.pop()();for(let t=0;t<$.length;t+=1){const n=$[t];ye.has(n)||(ye.add(n),n())}$.length=0}while(J.length);for(;be.length;)be.pop()();me=!1,ye.clear(),le(e)}function xe(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}function et(e){const t=[],n=[];$.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),$=t}const he=new Set;let V;function tt(){V={r:0,c:[],p:V}}function nt(){V.r||Y(V.c),V=V.p}function W(e,t){e&&e.i&&(he.delete(e),e.i(t))}function x(e,t,n,s){if(e&&e.o){if(he.has(e))return;he.add(e),V.c.push(()=>{he.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Q(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function st(e,t){e.d(1),t.delete(e.key)}function lt(e,t){x(e,1,1,()=>{t.delete(e.key)})}function Fe(e,t,n,s,i,r,u,c,a,f,g,d){let L=e.length,A=r.length,D=L;const p={};for(;D--;)p[e[D].key]=D;const T=[],k=new Map,o=new Map,C=[];for(D=A;D--;){const w=d(i,r,D),b=n(w);let M=u.get(b);M?s&&C.push(()=>M.p(w,t)):(M=f(b,w),M.c()),k.set(b,T[D]=M),b in p&&o.set(b,Math.abs(D-p[b]))}const F=new Set,I=new Set;function P(w){W(w,1),w.m(c,g),u.set(w.key,w),g=w.first,A--}for(;L&&A;){const w=T[A-1],b=e[L-1],M=w.key,z=b.key;w===b?(g=w.first,L--,A--):k.has(z)?!u.has(M)||F.has(M)?P(w):I.has(z)?L--:o.get(M)>o.get(z)?(I.add(M),P(w)):(F.add(z),L--):(a(b,u),L--)}for(;L--;){const w=e[L];k.has(w.key)||a(w,u)}for(;A;)P(T[A-1]);return Y(C),T}function ot(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function _e(e){e&&e.c()}function fe(e,t,n){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),ve(()=>{const r=e.$$.on_mount.map(Ce).filter(Ne);e.$$.on_destroy?e.$$.on_destroy.push(...r):Y(r),e.$$.on_mount=[]}),i.forEach(ve)}function ue(e,t){const n=e.$$;n.fragment!==null&&(et(n.after_update),Y(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function it(e,t){e.$$.dirty[0]===-1&&(J.push(e),Qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(e,t,n,s,i,r,u=null,c=[-1]){const a=ie;le(e);const f=e.$$={fragment:null,ctx:[],props:r,update:R,not_equal:i,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ke(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};u&&u(f.root);let g=!1;if(f.ctx=n?n(e,t.props||{},(d,L,...A)=>{const D=A.length?A[0]:L;return f.ctx&&i(f.ctx[d],f.ctx[d]=D)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](D),g&&it(e,d)),L}):[],f.update(),g=!0,Y(f.before_update),f.fragment=s?s(f.ctx):!1,t.target){if(t.hydrate){const d=We(t.target);f.fragment&&f.fragment.l(d),d.forEach(q)}else f.fragment&&f.fragment.c();t.intro&&W(e.$$.fragment),fe(e,t.target,t.anchor),Re()}le(a)}class ae{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){ue(this,1),this.$destroy=R}$on(t,n){if(!Ne(n))return R;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!Be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const rt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rt);function Se(e,t,n){const s=e.slice();return s[19]=t[n],s[21]=n,s}function ft(e){let t,n,s,i;return{c(){t=S("div"),n=S("img"),v(n,"alt","圖片"),Pe(n.src,s=e[19].path)||v(n,"src",s),v(n,"height",i=e[0].height),v(n,"class","svelte-ssj1t4"),v(t,"class","svelte-ssj1t4")},m(r,u){B(r,t,u),_(t,n)},p(r,u){u&1&&!Pe(n.src,s=r[19].path)&&v(n,"src",s),u&1&&i!==(i=r[0].height)&&v(n,"height",i)},d(r){r&&q(t)}}}function ut(e){let t,n=e[19].name+"",s;return{c(){t=S("div"),s=X(n),v(t,"class","svelte-ssj1t4")},m(i,r){B(i,t,r),_(t,s)},p(i,r){r&1&&n!==(n=i[19].name+"")&&oe(s,n)},d(i){i&&q(t)}}}function Le(e,t){let n,s,i,r,u;function c(g,d){if(g[19].type==="text")return ut;if(g[19].type==="image")return ft}let a=c(t),f=a&&a(t);return{key:e,first:null,c(){n=S("div"),f&&f.c(),s=O(),v(n,"class",i="gift "+t[0].style+" svelte-ssj1t4"),v(n,"style",r=`transform: rotateX(${t[3]*t[21]}deg) translateZ(${t[6]}px)`),v(n,"data-pos",u=t[3]*t[21]),G(n,"text-red-600",t[1][0]==1&&t[5][0]==t[21]||t[1][1]==1&&t[5][1]==t[21]||t[1][2]==1&&t[5][2]==t[21]),this.first=n},m(g,d){B(g,n,d),f&&f.m(n,null),_(n,s)},p(g,d){t=g,a===(a=c(t))&&f?f.p(t,d):(f&&f.d(1),f=a&&a(t),f&&(f.c(),f.m(n,s))),d&1&&i!==(i="gift "+t[0].style+" svelte-ssj1t4")&&v(n,"class",i),d&73&&r!==(r=`transform: rotateX(${t[3]*t[21]}deg) translateZ(${t[6]}px)`)&&v(n,"style",r),d&9&&u!==(u=t[3]*t[21])&&v(n,"data-pos",u),d&35&&G(n,"text-red-600",t[1][0]==1&&t[5][0]==t[21]||t[1][1]==1&&t[5][1]==t[21]||t[1][2]==1&&t[5][2]==t[21])},d(g){g&&q(n),f&&f.d()}}}function ct(e){let t,n=[],s=new Map,i,r=Q(e[0].gifts);const u=c=>c[21];for(let c=0;c<r.length;c+=1){let a=Se(e,r,c),f=u(a);s.set(f,n[c]=Le(f,a))}return{c(){t=S("div");for(let c=0;c<n.length;c+=1)n[c].c();v(t,"class",i="gift-container "+e[7]+" svelte-ssj1t4"),G(t,"autoTurn",e[2])},m(c,a){B(c,t,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);e[9](t)},p(c,[a]){a&107&&(r=Q(c[0].gifts),n=Fe(n,a,u,1,c,r,s,t,st,Le,null,Se)),a&128&&i!==(i="gift-container "+c[7]+" svelte-ssj1t4")&&v(t,"class",i),a&132&&G(t,"autoTurn",c[2])},i:R,o:R,d(c){c&&q(t);for(let a=0;a<n.length;a+=1)n[a].d();e[9](null)}}}function at(e,t,n){let s,i,r,u;const c=Ke();function a(P){c("finished",P)}let{trigger:f}=t,{config:g}=t,{showPos:d}=t,L=!1,A=0,D=0,p=[],T;Ie(()=>{o(),k()});function k(){g.gifts.forEach((P,w)=>{p[w]={from:w===0?0:p[w-1].to,to:w===0?r:p[w-1].to+r,name:P.name,index:w}})}function o(){T&&(T.style.setProperty("--rotateY",`${g.rotateY}deg`),T.style.setProperty("--duration",`${g.duration}ms`),T.style.setProperty("--fontSize",`${g.fontSize}px`),T.style.setProperty("--height",`${g.height}px`),T.style.setProperty("--width",`${g.width}px`),T.style.setProperty("--currentDeg",`-${A}deg`))}function C(){let P=Math.random()*360+1800;P-=P%r,D=P;const w=g.rollback?Math.random()*g.rollback+1:1;T.style.setProperty("--targetDeg",`-${D}deg`),T.style.setProperty("--rollBackDeg",`${w}`),n(2,L=!0)}function F(){A=D%360,T.style.setProperty("--currentDeg",`-${A}deg`);let P=null;const w=A+r/2;p.forEach(z=>{w>=z.from&&w<=z.to&&(P=z.index)}),console.log("currentDeg",A);let b=p.findIndex(z=>z.index==P);console.log("每一個結果",b),console.log("giftsDeg",p),console.log("giftName",P);let M=[];b==0?M.push(p[p.length-1].name,p[b].name,p[b+1].name):b==p.length-1?M.push(p[b-1].name,p[b].name,p[0].name):M.push(p[b-1].name,p[b].name,p[b+1].name),b==0?n(5,s=[p.length-1,0,1]):b==p.length-1?n(5,s=[b-1,b,0]):n(5,s=[b-1,b,b+1]),console.log("setIndex",s),n(2,L=!1),a(M)}function I(P){re[P?"unshift":"push"](()=>{T=P,n(4,T)})}return e.$$set=P=>{"trigger"in P&&n(8,f=P.trigger),"config"in P&&n(0,g=P.config),"showPos"in P&&n(1,d=P.showPos)},e.$$.update=()=>{e.$$.dirty&1&&n(7,i=g.run3D?"three-dimension":"flat"),e.$$.dirty&1&&n(3,r=360/g.gifts.length),e.$$.dirty&9&&n(6,u=g.height/2/Math.tan(r/2/180*Math.PI)),e.$$.dirty&1&&g&&(o(),k()),e.$$.dirty&256&&f!=null&&C(),e.$$.dirty&5&&L&&setTimeout(()=>{F()},g.duration+200)},n(5,s=[]),[g,d,L,r,T,s,u,i,f,I]}class dt extends ae{constructor(t){super(),ce(this,t,at,ct,ee,{trigger:8,config:0,showPos:1})}}const U=[];function ht(e,t=R){let n;const s=new Set;function i(c){if(ee(e,c)&&(e=c,n)){const a=!U.length;for(const f of s)f[1](),U.push(f,e);if(a){for(let f=0;f<U.length;f+=2)U[f][0](U[f+1]);U.length=0}}}function r(c){i(c(e))}function u(c,a=R){const f=[c,a];return s.add(f),s.size===1&&(n=t(i,r)||R),c(e),()=>{s.delete(f),s.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:u}}const ge=ht(1e4);function gt(e){let t,n,s,i,r,u,c,a,f,g,d,L,A;return{c(){t=S("div"),n=S("div"),s=S("div"),i=S("div"),r=S("div"),r.innerHTML="<span>頭像</span>",u=O(),c=S("div"),a=S("span"),a.textContent="金額:",f=O(),g=S("span"),d=X(e[0]),L=O(),A=S("div"),A.innerHTML="<span>系統</span>",v(r,"class","mr-3"),v(i,"class","flex"),v(s,"class","flex justify-between px-3"),v(n,"class","w-full text-[40px]"),Oe(t,"background-color","#09384c"),v(t,"class","absolute top-0 left-0 z-10 text-white h-[10vh] w-full flex items-center")},m(D,p){B(D,t,p),_(t,n),_(n,s),_(s,i),_(i,r),_(i,u),_(i,c),_(c,a),_(c,f),_(c,g),_(g,d),_(s,L),_(s,A)},p(D,[p]){p&1&&oe(d,D[0])},i:R,o:R,d(D){D&&q(t)}}}function _t(e,t,n){let s;return ze(e,ge,i=>n(0,s=i)),[s]}class pt extends ae{constructor(t){super(),ce(this,t,_t,gt,ee,{})}}function yt(e){let t,n,s,i,r,u,c,a,f,g,d,L,A,D,p,T,k,o,C,F,I,P,w,b,M,z;return{c(){t=S("div"),n=S("div"),s=S("span"),s.textContent="Win:",i=O(),r=S("span"),u=X(e[3]),c=O(),a=S("div"),f=S("button"),f.textContent="最大賭注",g=O(),d=S("button"),d.textContent="開始",L=O(),A=S("button"),A.textContent="自動",D=O(),p=S("div"),T=S("button"),T.innerHTML='<span class="mr-8">-</span>',k=O(),o=S("div"),C=S("span"),C.textContent="籌碼:",F=O(),I=S("span"),P=X(e[0]),w=O(),b=S("button"),b.innerHTML='<span class="ml-8">+</span>',v(n,"class","flex justify-center"),v(f,"class","w-[30%] border border-white"),v(d,"class","w-[30%] border border-white"),G(d,"active",e[1]),G(d,"disabled",e[2]),v(A,"class","w-[30%] border border-white"),v(a,"class","flex items-center justify-around"),v(o,"class","w-[30%] border border-white text-center"),v(p,"class","flex justify-center"),Oe(t,"background-color","#09384c"),v(t,"class","absolute bottom-0 left-0 z-10 text-white text-[40px] h-[25vh] w-full flex justify-center flex-col items-stretch")},m(H,h){B(H,t,h),_(t,n),_(n,s),_(n,i),_(n,r),_(r,u),_(t,c),_(t,a),_(a,f),_(a,g),_(a,d),_(a,L),_(a,A),_(t,D),_(t,p),_(p,T),_(p,k),_(p,o),_(o,C),_(o,F),_(o,I),_(I,P),_(p,w),_(p,b),M||(z=[se(f,"click",e[5]),se(d,"click",e[4]),se(T,"click",e[6]),se(b,"click",e[7])],M=!0)},p(H,[h]){h&8&&oe(u,H[3]),h&2&&G(d,"active",H[1]),h&4&&G(d,"disabled",H[2]),h&1&&oe(P,H[0])},i:R,o:R,d(H){H&&q(t),M=!1,Y(z)}}}function bt(e,t,n){let{active:s}=t,{disabled:i}=t,{winMoney:r}=t,{bet:u=100}=t;function c(d){Ue.call(this,e,d)}const a=()=>{n(0,u=1e3)},f=()=>{n(0,u=u-100)},g=()=>{n(0,u=u+100)};return e.$$set=d=>{"active"in d&&n(1,s=d.active),"disabled"in d&&n(2,i=d.disabled),"winMoney"in d&&n(3,r=d.winMoney),"bet"in d&&n(0,u=d.bet)},e.$$.update=()=>{e.$$.dirty&1&&(u>1e3?n(0,u=1e3):u<100&&n(0,u=100))},[u,s,i,r,c,a,f,g]}class mt extends ae{constructor(t){super(),ce(this,t,bt,yt,ee,{active:1,disabled:2,winMoney:3,bet:0})}}function Ee(e,t,n){const s=e.slice();return s[11]=t[n],s[30]=n,s}function Ae(e,t,n){const s=e.slice();return s[31]=t[n],s[30]=n,s}function Te(e,t){let n,s,i;return s=new dt({props:{showPos:t[3][t[30]],trigger:t[6],config:t[31]}}),s.$on("finished",t[13]),{key:e,first:null,c(){n=Ve(),_e(s.$$.fragment),this.first=n},m(r,u){B(r,n,u),fe(s,r,u),i=!0},p(r,u){t=r;const c={};u[0]&520&&(c.showPos=t[3][t[30]]),u[0]&64&&(c.trigger=t[6]),u[0]&512&&(c.config=t[31]),s.$set(c)},i(r){i||(W(s.$$.fragment,r),i=!0)},o(r){x(s.$$.fragment,r),i=!1},d(r){r&&q(n),ue(s,r)}}}function je(e){let t,n=`Round${e[30]+1}: ${e[11]}`,s;return{c(){t=S("div"),s=X(n),v(t,"class","result svelte-ahb3vf")},m(i,r){B(i,t,r),_(t,s)},p(i,r){r[0]&16&&n!==(n=`Round${i[30]+1}: ${i[11]}`)&&oe(s,n)},d(i){i&&q(t)}}}function vt(e){let t,n,s,i,r,u,c,a,f=[],g=new Map,d,L,A,D,p,T,k,o,C,F,I;t=new pt({});let P=Q(e[9]);const w=h=>h[30];for(let h=0;h<P.length;h+=1){let j=Ae(e,P,h),N=w(j);g.set(N,f[h]=Te(N,j))}let b=Q(e[4]),M=[];for(let h=0;h<b.length;h+=1)M[h]=je(Ee(e,b,h));function z(h){e[16](h)}let H={active:e[7],disabled:e[5],winMoney:e[1]};return e[2]!==void 0&&(H.bet=e[2]),k=new mt({props:H}),re.push(()=>ot(k,"bet",z)),k.$on("click",e[17]),{c(){_e(t.$$.fragment),n=O(),s=S("div"),i=S("div"),i.innerHTML='<span class="svelte-ahb3vf">SlotMachine</span>',r=O(),u=S("div"),c=S("div"),a=S("div");for(let h=0;h<f.length;h+=1)f[h].c();d=O(),L=S("div"),A=S("div");for(let h=0;h<M.length;h+=1)M[h].c();D=O(),p=S("div"),p.innerHTML='<a href="https://github.com/guahsu/Vue-SlotMachine/" target="_blank" class="svelte-ahb3vf">→ GitHub Source Code</a>',T=O(),_e(k.$$.fragment),v(i,"class","badge svelte-ahb3vf"),v(a,"class","container svelte-ahb3vf"),v(c,"class","window svelte-ahb3vf"),v(u,"class","body svelte-ahb3vf"),v(A,"class","resultList-container svelte-ahb3vf"),v(L,"class","resultList svelte-ahb3vf"),G(L,"openResultList",e[8]),v(p,"class","github svelte-ahb3vf"),v(s,"id","SlotMachine"),v(s,"class","z-0 svelte-ahb3vf")},m(h,j){fe(t,h,j),B(h,n,j),B(h,s,j),_(s,i),_(s,r),_(s,u),_(u,c),_(c,a);for(let N=0;N<f.length;N+=1)f[N]&&f[N].m(a,null);e[14](a),_(s,d),_(s,L),_(L,A);for(let N=0;N<M.length;N+=1)M[N]&&M[N].m(A,null);_(s,D),_(s,p),B(h,T,j),fe(k,h,j),C=!0,F||(I=se(L,"click",e[15]),F=!0)},p(h,j){if(j[0]&8776&&(P=Q(h[9]),tt(),f=Fe(f,j,w,1,h,P,g,a,lt,Te,null,Ae),nt()),j[0]&16){b=Q(h[4]);let y;for(y=0;y<b.length;y+=1){const l=Ee(h,b,y);M[y]?M[y].p(l,j):(M[y]=je(l),M[y].c(),M[y].m(A,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=b.length}(!C||j[0]&256)&&G(L,"openResultList",h[8]);const N={};j[0]&128&&(N.active=h[7]),j[0]&32&&(N.disabled=h[5]),j[0]&2&&(N.winMoney=h[1]),!o&&j[0]&4&&(o=!0,N.bet=h[2],$e(()=>o=!1)),k.$set(N)},i(h){if(!C){W(t.$$.fragment,h);for(let j=0;j<P.length;j+=1)W(f[j]);W(k.$$.fragment,h),C=!0}},o(h){x(t.$$.fragment,h);for(let j=0;j<f.length;j+=1)x(f[j]);x(k.$$.fragment,h),C=!1},d(h){h&&(q(n),q(s),q(T)),ue(t,h);for(let j=0;j<f.length;j+=1)f[j].d();e[14](null),Ze(M,h),ue(k,h),F=!1,I()}}}function wt(e){const n=[];for(let s=0;s<e.length;s++)e[s]===1&&n.push(s);return n}function te(e,t){return e[0]==t[0]||e[0]==t[1]}function Z(e,t){return e[1]==t[0]||e[1]==t[1]||e[1]==t[2]}function ne(e,t){return e[e.length-1]==t[e.length-1]||e[e.length-1]==t[e.length-2]}function kt(e){let t=0;for(let n=0;n<e.length;n++)for(let s=0;s<e[n].length;s++)e[n][s]===1&&t++;return t}function Pt(e,t,n){let s,i,r,u,c,a,f,g,d;ze(e,ge,y=>n(10,d=y));let L,A=0,D,p,T=[0,0,0],k=[0,0,0],o,C=[];function F(){let y=[],l=Math.floor(Math.random()*10);for(let m=0;m<10;m++){let E;m%2!==0?E=l:E=Math.floor(Math.random()*10),y.push({type:"text",name:E})}for(let m=0;m<5;m++)n(9,c[m].gifts=y,c)}function I(){n(7,r=!0),setTimeout(()=>{n(7,r=!1)},500),setTimeout(()=>{n(6,i=new Date)},1),F(),n(5,u=!0),n(3,s=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]])}function P(y){const l=L.querySelectorAll(".autoTurn");g.push(y.detail),l.length===1&&(n(5,u=!1),n(4,f=[...f,g]),console.log("resultList",f),o=[...g],n(11,g=[]),console.log("array",o),w())}function w(){T=[0,0,0],z(o[0]),console.log("firstPos",T),C.push(T),b(T,0)}function b(y,l){k=[0,0,0];let m=wt(y);if(l>o.length-2){M(),console.log("resultPos",C),n(3,s=C),D=kt(s),n(1,A=D*p),C=[],Me(ge,d+=A,d);return}else{for(let E=0;E<m.length;E++)if(m[E]==0){if(!te(o[l],o[l+1]))continue;o[l][m[E]]==o[l+1][m[E]]&&(l==0&&te(o[l+1],o[l+2])||l>0)&&(k[m[E]]=1),o[l][m[E]]==o[l+1][m[E]+1]&&(l==0&&Z(o[l+1],o[l+2])||l>0)&&(k[m[E]+1]=1)}else if(m[E]==o[0].length-1){if(!ne(o[l],o[l+1]))continue;o[l][m[E]]==o[l+1][m[E]]&&(l==0&&ne(o[l+1],o[l+2])||l>0)&&(k[m[E]]=1),o[l][m[E]]==o[l+1][m[E]-1]&&(l==0&&Z(o[l+1],o[l+2])||l>0)&&(k[m[E]-1]=1)}else{if(!Z(o[l],o[l+1]))continue;o[l][m[E]]==o[l+1][m[E]-1]&&(l==0&&te(o[l+1],o[l+2])||l>0)&&(k[m[E]-1]=1),o[l][m[E]]==o[l+1][m[E]]&&(l==0&&Z(o[l+1],o[l+2])||l>0)&&(k[m[E]]=1),o[l][m[E]]==o[l+1][m[E]+1]&&(l==0&&ne(o[l+1],o[l+2])||l>0)&&(k[m[E]+1]=1)}return C.push(k),b(k,l+1)}}function M(){for(let y=0;y<o.length;y++)for(let l=0;l<o[y].length;l++){let m=C[y][l]==1||C[y][l+1]==1;C[y][0]==1||C[y][o[0].length-1]==1,l!=o[y].length-1&&o[y][l]==o[y][l+1]&&m&&(C[y][l]=1,C[y][l+1]=1)}}function z(y){for(let l=0;l<y.length;l++)if(l==0){if(o[0][l]!=o[1][l]&&o[0][l]!=o[1][l+1])continue;(o[0][l]==o[1][l]&&te(o[1],o[2])||o[0][l]==o[1][l+1]&&Z(o[1],o[2]))&&(T[l]=1)}else if(l==y.length-1){if(o[0][l]!=o[1][l]&&o[0][l]!=o[1][l-1])continue;(o[0][l]==o[1][l]&&ne(o[1],o[2])||o[0][l]==o[1][l-1]&&Z(o[1],o[2]))&&(T[l]=1)}else{if(o[0][l]!=o[1][l]&&o[0][l]!=o[1][l-1]&&o[0][l]!=o[1][l+1])continue;(o[0][l]==o[1][l-1]&&te(o[1],o[2])||o[0][l]==o[1][l]&&Z(o[1],o[2])||o[0][l]==o[1][l+1]&&ne(o[1],o[2]))&&(T[l]=1)}}function H(y){re[y?"unshift":"push"](()=>{L=y,n(0,L)})}const h=()=>{n(8,a=!1)};function j(y){p=y,n(2,p)}const N=()=>{if(!u)Me(ge,d-=p,d),I();else return};return n(3,s=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]]),n(6,i=null),n(7,r=!1),n(5,u=!1),n(9,c=[{style:"gift-style",gifts:Array.from(new Array(10),(y,l)=>({type:"text",name:l})),duration:4e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(y,l)=>({type:"text",name:l})),duration:5e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(y,l)=>({type:"text",name:l})),duration:6e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(y,l)=>({type:"text",name:l})),duration:7e3,fontSize:50,height:100,width:120},{style:"gift-style",gifts:Array.from(new Array(10),(y,l)=>({type:"text",name:l})),duration:8e3,fontSize:50,height:100,width:120}]),n(8,a=!1),n(4,f=[]),n(11,g=[]),[L,A,p,s,f,u,i,r,a,c,d,g,I,P,H,h,j,N]}class Mt extends ae{constructor(t){super(),ce(this,t,Pt,vt,ee,{},null,[-1,-1])}}function St(e){let t,n;return t=new Mt({}),{c(){_e(t.$$.fragment)},m(s,i){fe(t,s,i),n=!0},p:R,i(s){n||(W(t.$$.fragment,s),n=!0)},o(s){x(t.$$.fragment,s),n=!1},d(s){ue(t,s)}}}function De(e){e.preventDefault()}function Lt(e){return Ie(()=>{document.body.addEventListener("touchmove",De,{passive:!1})}),Ye(()=>{document.body.removeEventListener("touchmove",De)}),[]}class Et extends ae{constructor(t){super(),ce(this,t,Lt,St,ee,{})}}new Et({target:document.getElementById("app")});
